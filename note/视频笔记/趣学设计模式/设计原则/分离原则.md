# 分离原则

关注点分离原则是一个帮助我们将复杂问题拆分为小问题的好方法.

关注点: 能对程序代码产生影响的一组特点信息. 

设计模式正是对关注点进行了有效分离才得以有效指导编程实践. 

## 为什么要用关注点分离原则拆分复杂问题

1. 你破话其他用户正在使用的现有功能的可能性会变小
2. 关注点分离能帮助你适应人类的短期记忆.

使用关注点分离来拆分复杂问题很有实践的价值.


## 两个视角下的关注点分离

关注点分离, Separation of Concerns, SoC. 

原理很简单: 现将复杂问题做合理的分解, 再分别仔细研究程序上特定问题的侧面(关注点), 最后解决得出的接口, 再合成整体的解决思路. 

### 1. 架构设计视角

架构设计视角下的关注点分离侧重于 整个系统内组件之间的边界划分. 比如层与层, 模块与模块, 服务与服务等.

架构设计视角下的关注点分离更重视组件之间的分离，并通过一定的通信策略来保证架构内各个组件间的相互引用。

### 2. 编码实现视角

编码实现视角下的关注点分离主要侧重于**某个具体类或方法间的边界划分**，估计这里你立马会想到**职责分离**，没错，职责分离就是一种编码实现视角下关注点分离的优秀实践.


虽然架构设计和编码实现中的关注点各有不同，但是对关注点进行分离后获得的效果却是一样的。

- 一方面, 我们能清除的知道代码或者结构在每一个阶段或步骤中在做什么以及自身关注的范围是什么.
- 另一方面, 对于拆分后的问题我们也能进行快速理解与分析

## 如何实现关注点分离.

好的架构必须使每个关注点相互分离, 也就是说系统中的一部分发生了改变, 并不会影响到其他部分. 主要体现在:

1. 即使需要改变, 也能清晰的识别出哪些部分需要改变
2. 如果需要扩展架构, 尽量做到影响最小化
3. 已经可以工作的部分还都将继续工作

具体的技巧:

- 在架构设计上, 做到策略与机制分离
- 在编码实现上, 做到使用和创建分离

### 在架构设计上, 策略与机制分离

- 机制: 指各种软件要素之间的结构关系和运行方式. 可以理解为实现某个功能所需要的基础操作和通用结构. 在代码中相对稳定, 表现形式有: 通用算法, 流程, 数据结构等不可变作用的部分
- 策略: 指可以实现软件发布目标的编码方案集合. 在代码中相对不稳定, 表现形式为业务逻辑, 接口实现等.

策略和机制分离的本质就是进行标准化, 也就是执行一套标准(提供机制), 让使用者按照标准使用(不同策略).

### 在编码实现上, 做到使用和创建分离 

实例的实例化(创建)与实体间相互使用(使用)的分离
