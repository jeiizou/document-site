# 单一原则

设计原则:

1. 面向对象原则(SOLID)
2. 简单原则(KISS)
3. 单一原则(DRY)
4. 最少原则(LoD)
5. 分离原则(SoC)

## DRY 

Dont't Repeat Yourself. 

定义: 系统的每一个功能都应该有唯一的实现, 如果多次遇到同样的问题, 就应该抽象出一个共同的解决方法, 而不要重复开发同样的功能


## DRY的陷阱

### 陷阱1: 随时关心代码重用性

可能会:

- 随时在意有没有写重复代码
- 随时在意代码能不能重用
- 随时在意有没有因为重复而浪费时间

代码重复的类型:

- 功能需求重复
- 实现逻辑重复
- 执行调用重复

如何避免: **先可用, 再重用.**

简单的来说, 你应该先写出可以运行的代码, 再考虑是否需要重用代码.

### 陷阱2: 过度设计

过于重视灵活性和复用性, 导致在代码设计时出现过度设计的问题.

原因: 总是期望通过现在的灵活设计来避免未来需求变化后的重复设计和编码, 但是实际上变化方向时不可预测的.

如何避免: 抓住上下文, 适度设计. 

当你想要扩展通用设计时, 想想一年后这个项目是否存在. 

### 陷阱3: 写一次性代码

- 硬编码: 将一些配置数据或者通用信息写入代码中, 导致信息一旦变动, 就不得不修改代码来满足要求
- 复制粘贴编码

如何避免: 坚持写易懂的代码

- 易懂的代码不是指容易, 简单的代码
- 易懂的代码能够借用语言特性来发挥优势
- 易懂的代码需要遵从一定的代码规范
- 易懂的代码要能够正确的运行
- 始终牢记: 易懂的代码不是告诉你计算机怎么做的答案, 而是告诉另一个程序员你想要计算机做什么的意图.

## 总结

- 宁可重复, 也不要错误的抽象. 不要为了抽象而创建抽象
- 保持对原则的警醒比应用了多少原则更重要



